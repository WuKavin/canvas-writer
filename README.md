# Canvas Writer

本地画布写作工具，支持多模型供应商生成与选区改写，强调「只改需要的部分」。

## 主要特性
- 画布式写作：生成后可选中局部并改写，其他内容保持不变。
- 多模型供应商：支持 OpenAI 兼容与 Gemini (AI Studio) 等。
- 语言切换：中文/英文 UI；生成语言跟随切换。
- 预览模式：Markdown 渲染预览。
- 卡片视图：按段落拆分、拖拽重排。
- 历史版本：快照与差异对比。
- 项目缓存：退出后可从“项目”列表继续编辑。
- DOCX 导出：内置导出，无需本地 Pandoc。
- 本地优先：模型 Key 本地保存，文章在本地存储。

## 安装与运行（开发模式）
```bash
npm install
npm run dev
```

## 打包（macOS DMG）
```bash
npm run dist
```
产物：`release/Canvas Writer-<version>-arm64.dmg`

## 使用指引
1. 在左侧「模型供应商」配置 Base URL、API Key、模型。
2. 在“对话框”输入提示词，点击「生成文章」。
3. 在正文中选中需要改写的部分，弹出的浮窗里输入修改意见并应用。
4. 需要整体重新生成时，点击「重新生成」。
5. 可切换「预览」「卡片视图」，或使用历史版本回滚。

## 供应商说明
- OpenAI 兼容：需要 `/v1` 兼容接口。
- Gemini (AI Studio)：使用 `x-goog-api-key`。

## Roadmap
- 文件/图片输入：支持上传文档与图片生成文章（需求202602081456）。
- 更细粒度的版本管理与自动归档。
- 更多输出格式（PDF/HTML 模板）。

## License
本项目使用 GPL-3.0。
